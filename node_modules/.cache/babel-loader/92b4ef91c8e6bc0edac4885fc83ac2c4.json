{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"));else if (typeof define === 'function' && define.amd) define([\"react\"], factory);else if (typeof exports === 'object') exports[\"ReactMotion\"] = factory(require(\"react\"));else root[\"ReactMotion\"] = factory(root[\"React\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_9__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId])\n          /******/\n          return installedModules[moduleId].exports;\n        /******/\n\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n        var module = installedModules[moduleId] = {\n          /******/\n          exports: {},\n\n          /******/\n          id: moduleId,\n\n          /******/\n          loaded: false\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.loaded = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n      __webpack_require__.p = \"build/\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(0);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      exports.__esModule = true;\n\n      function _interopRequire(obj) {\n        return obj && obj.__esModule ? obj['default'] : obj;\n      }\n\n      var _Motion = __webpack_require__(1);\n\n      exports.Motion = _interopRequire(_Motion);\n\n      var _StaggeredMotion = __webpack_require__(10);\n\n      exports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\n      var _TransitionMotion = __webpack_require__(11);\n\n      exports.TransitionMotion = _interopRequire(_TransitionMotion);\n\n      var _spring = __webpack_require__(13);\n\n      exports.spring = _interopRequire(_spring);\n\n      var _presets = __webpack_require__(14);\n\n      exports.presets = _interopRequire(_presets); // deprecated, dummy warning function\n\n      var _reorderKeys = __webpack_require__(15);\n\n      exports.reorderKeys = _interopRequire(_reorderKeys);\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      exports.__esModule = true;\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      var _mapToZero = __webpack_require__(2);\n\n      var _mapToZero2 = _interopRequireDefault(_mapToZero);\n\n      var _stripStyle = __webpack_require__(3);\n\n      var _stripStyle2 = _interopRequireDefault(_stripStyle);\n\n      var _stepper3 = __webpack_require__(4);\n\n      var _stepper4 = _interopRequireDefault(_stepper3);\n\n      var _performanceNow = __webpack_require__(5);\n\n      var _performanceNow2 = _interopRequireDefault(_performanceNow);\n\n      var _raf = __webpack_require__(7);\n\n      var _raf2 = _interopRequireDefault(_raf);\n\n      var _shouldStopAnimation = __webpack_require__(8);\n\n      var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\n      var _react = __webpack_require__(9);\n\n      var _react2 = _interopRequireDefault(_react);\n\n      var msPerFrame = 1000 / 60;\n\n      var Motion = _react2['default'].createClass({\n        displayName: 'Motion',\n        propTypes: {\n          // TOOD: warn against putting a config in here\n          defaultStyle: _react.PropTypes.objectOf(_react.PropTypes.number),\n          style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired,\n          children: _react.PropTypes.func.isRequired,\n          onRest: _react.PropTypes.func\n        },\n        getInitialState: function getInitialState() {\n          var _props = this.props;\n          var defaultStyle = _props.defaultStyle;\n          var style = _props.style;\n\n          var currentStyle = defaultStyle || _stripStyle2['default'](style);\n\n          var currentVelocity = _mapToZero2['default'](currentStyle);\n\n          return {\n            currentStyle: currentStyle,\n            currentVelocity: currentVelocity,\n            lastIdealStyle: currentStyle,\n            lastIdealVelocity: currentVelocity\n          };\n        },\n        wasAnimating: false,\n        animationID: null,\n        prevTime: 0,\n        accumulatedTime: 0,\n        // it's possible that currentStyle's value is stale: if props is immediately\n        // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n        // at 0 (didn't have time to tick and interpolate even once). If we naively\n        // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n        // In reality currentStyle should be 400\n        unreadPropStyle: null,\n        // after checking for unreadPropStyle != null, we manually go set the\n        // non-interpolating values (those that are a number, without a spring\n        // config)\n        clearUnreadPropStyle: function clearUnreadPropStyle(destStyle) {\n          var dirty = false;\n          var _state = this.state;\n          var currentStyle = _state.currentStyle;\n          var currentVelocity = _state.currentVelocity;\n          var lastIdealStyle = _state.lastIdealStyle;\n          var lastIdealVelocity = _state.lastIdealVelocity;\n\n          for (var key in destStyle) {\n            if (!destStyle.hasOwnProperty(key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n\n            if (typeof styleValue === 'number') {\n              if (!dirty) {\n                dirty = true;\n                currentStyle = _extends({}, currentStyle);\n                currentVelocity = _extends({}, currentVelocity);\n                lastIdealStyle = _extends({}, lastIdealStyle);\n                lastIdealVelocity = _extends({}, lastIdealVelocity);\n              }\n\n              currentStyle[key] = styleValue;\n              currentVelocity[key] = 0;\n              lastIdealStyle[key] = styleValue;\n              lastIdealVelocity[key] = 0;\n            }\n          }\n\n          if (dirty) {\n            this.setState({\n              currentStyle: currentStyle,\n              currentVelocity: currentVelocity,\n              lastIdealStyle: lastIdealStyle,\n              lastIdealVelocity: lastIdealVelocity\n            });\n          }\n        },\n        startAnimationIfNecessary: function startAnimationIfNecessary() {\n          var _this = this; // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n          // call cb? No, otherwise accidental parent rerender causes cb trigger\n\n\n          this.animationID = _raf2['default'](function () {\n            // check if we need to animate in the first place\n            var propsStyle = _this.props.style;\n\n            if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n              if (_this.wasAnimating && _this.props.onRest) {\n                _this.props.onRest();\n              } // no need to cancel animationID here; shouldn't have any in flight\n\n\n              _this.animationID = null;\n              _this.wasAnimating = false;\n              _this.accumulatedTime = 0;\n              return;\n            }\n\n            _this.wasAnimating = true;\n\n            var currentTime = _performanceNow2['default']();\n\n            var timeDelta = currentTime - _this.prevTime;\n            _this.prevTime = currentTime;\n            _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n            if (_this.accumulatedTime > msPerFrame * 10) {\n              _this.accumulatedTime = 0;\n            }\n\n            if (_this.accumulatedTime === 0) {\n              // no need to cancel animationID here; shouldn't have any in flight\n              _this.animationID = null;\n\n              _this.startAnimationIfNecessary();\n\n              return;\n            }\n\n            var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n            var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n            var newLastIdealStyle = {};\n            var newLastIdealVelocity = {};\n            var newCurrentStyle = {};\n            var newCurrentVelocity = {};\n\n            for (var key in propsStyle) {\n              if (!propsStyle.hasOwnProperty(key)) {\n                continue;\n              }\n\n              var styleValue = propsStyle[key];\n\n              if (typeof styleValue === 'number') {\n                newCurrentStyle[key] = styleValue;\n                newCurrentVelocity[key] = 0;\n                newLastIdealStyle[key] = styleValue;\n                newLastIdealVelocity[key] = 0;\n              } else {\n                var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n                var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n\n                for (var i = 0; i < framesToCatchUp; i++) {\n                  var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                  newLastIdealStyleValue = _stepper[0];\n                  newLastIdealVelocityValue = _stepper[1];\n                }\n\n                var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                var nextIdealX = _stepper2[0];\n                var nextIdealV = _stepper2[1];\n                newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n                newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n                newLastIdealStyle[key] = newLastIdealStyleValue;\n                newLastIdealVelocity[key] = newLastIdealVelocityValue;\n              }\n            }\n\n            _this.animationID = null; // the amount we're looped over above\n\n            _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n            _this.setState({\n              currentStyle: newCurrentStyle,\n              currentVelocity: newCurrentVelocity,\n              lastIdealStyle: newLastIdealStyle,\n              lastIdealVelocity: newLastIdealVelocity\n            });\n\n            _this.unreadPropStyle = null;\n\n            _this.startAnimationIfNecessary();\n          });\n        },\n        componentDidMount: function componentDidMount() {\n          this.prevTime = _performanceNow2['default']();\n          this.startAnimationIfNecessary();\n        },\n        componentWillReceiveProps: function componentWillReceiveProps(props) {\n          if (this.unreadPropStyle != null) {\n            // previous props haven't had the chance to be set yet; set them here\n            this.clearUnreadPropStyle(this.unreadPropStyle);\n          }\n\n          this.unreadPropStyle = props.style;\n\n          if (this.animationID == null) {\n            this.prevTime = _performanceNow2['default']();\n            this.startAnimationIfNecessary();\n          }\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          if (this.animationID != null) {\n            _raf2['default'].cancel(this.animationID);\n\n            this.animationID = null;\n          }\n        },\n        render: function render() {\n          var renderedChildren = this.props.children(this.state.currentStyle);\n          return renderedChildren && _react2['default'].Children.only(renderedChildren);\n        }\n      });\n\n      exports['default'] = Motion;\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports) {\n      // currently used to initiate the velocity style object to 0\n      'use strict';\n\n      exports.__esModule = true;\n      exports['default'] = mapToZero;\n\n      function mapToZero(obj) {\n        var ret = {};\n\n        for (var key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            ret[key] = 0;\n          }\n        }\n\n        return ret;\n      }\n\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      // turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n      // `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n      'use strict';\n\n      exports.__esModule = true;\n      exports['default'] = stripStyle;\n\n      function stripStyle(style) {\n        var ret = {};\n\n        for (var key in style) {\n          if (!style.hasOwnProperty(key)) {\n            continue;\n          }\n\n          ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n        }\n\n        return ret;\n      }\n\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports) {\n      // stepper is used a lot. Saves allocation to return the same array wrapper.\n      // This is fine and danger-free against mutations because the callsite\n      // immediately destructures it and gets the numbers inside without passing the\n      \"use strict\";\n\n      exports.__esModule = true;\n      exports[\"default\"] = stepper;\n      var reusedTuple = [];\n\n      function stepper(secondPerFrame, x, v, destX, k, b, precision) {\n        // Spring stiffness, in kg / s^2\n        // for animations, destX is really spring length (spring at rest). initial\n        // position is considered as the stretched/compressed position of a spring\n        var Fspring = -k * (x - destX); // Damping, in kg / s\n\n        var Fdamper = -b * v; // usually we put mass here, but for animation purposes, specifying mass is a\n        // bit redundant. you could simply adjust k and b accordingly\n        // let a = (Fspring + Fdamper) / mass;\n\n        var a = Fspring + Fdamper;\n        var newV = v + a * secondPerFrame;\n        var newX = x + newV * secondPerFrame;\n\n        if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n          reusedTuple[0] = destX;\n          reusedTuple[1] = 0;\n          return reusedTuple;\n        }\n\n        reusedTuple[0] = newX;\n        reusedTuple[1] = newV;\n        return reusedTuple;\n      }\n\n      module.exports = exports[\"default\"]; // array reference around.\n\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (process) {\n        // Generated by CoffeeScript 1.7.1\n        \"use strict\";\n\n        (function () {\n          var getNanoSeconds, hrtime, loadTime;\n\n          if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n            module.exports = function () {\n              return performance.now();\n            };\n          } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n            module.exports = function () {\n              return (getNanoSeconds() - loadTime) / 1e6;\n            };\n\n            hrtime = process.hrtime;\n\n            getNanoSeconds = function () {\n              var hr;\n              hr = hrtime();\n              return hr[0] * 1e9 + hr[1];\n            };\n\n            loadTime = getNanoSeconds();\n          } else if (Date.now) {\n            module.exports = function () {\n              return Date.now() - loadTime;\n            };\n\n            loadTime = Date.now();\n          } else {\n            module.exports = function () {\n              return new Date().getTime() - loadTime;\n            };\n\n            loadTime = new Date().getTime();\n          }\n        }).call(undefined);\n        /* WEBPACK VAR INJECTION */\n      }).call(exports, __webpack_require__(6));\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports) {\n      // shim for using process in browser\n      'use strict';\n\n      var process = module.exports = {};\n      var queue = [];\n      var draining = false;\n      var currentQueue;\n      var queueIndex = -1;\n\n      function cleanUpNextTick() {\n        draining = false;\n\n        if (currentQueue.length) {\n          queue = currentQueue.concat(queue);\n        } else {\n          queueIndex = -1;\n        }\n\n        if (queue.length) {\n          drainQueue();\n        }\n      }\n\n      function drainQueue() {\n        if (draining) {\n          return;\n        }\n\n        var timeout = setTimeout(cleanUpNextTick);\n        draining = true;\n        var len = queue.length;\n\n        while (len) {\n          currentQueue = queue;\n          queue = [];\n\n          while (++queueIndex < len) {\n            if (currentQueue) {\n              currentQueue[queueIndex].run();\n            }\n          }\n\n          queueIndex = -1;\n          len = queue.length;\n        }\n\n        currentQueue = null;\n        draining = false;\n        clearTimeout(timeout);\n      }\n\n      process.nextTick = function (fun) {\n        var args = new Array(arguments.length - 1);\n\n        if (arguments.length > 1) {\n          for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n          }\n        }\n\n        queue.push(new Item(fun, args));\n\n        if (queue.length === 1 && !draining) {\n          setTimeout(drainQueue, 0);\n        }\n      }; // v8 likes predictible objects\n\n\n      function Item(fun, array) {\n        this.fun = fun;\n        this.array = array;\n      }\n\n      Item.prototype.run = function () {\n        this.fun.apply(null, this.array);\n      };\n\n      process.title = 'browser';\n      process.browser = true;\n      process.env = {};\n      process.argv = [];\n      process.version = ''; // empty string to avoid regexp issues\n\n      process.versions = {};\n\n      function noop() {}\n\n      process.on = noop;\n      process.addListener = noop;\n      process.once = noop;\n      process.off = noop;\n      process.removeListener = noop;\n      process.removeAllListeners = noop;\n      process.emit = noop;\n\n      process.binding = function (name) {\n        throw new Error('process.binding is not supported');\n      };\n\n      process.cwd = function () {\n        return '/';\n      };\n\n      process.chdir = function (dir) {\n        throw new Error('process.chdir is not supported');\n      };\n\n      process.umask = function () {\n        return 0;\n      };\n      /***/\n\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      var now = __webpack_require__(5),\n          global = typeof window === 'undefined' ? {} : window,\n          vendors = ['moz', 'webkit'],\n          suffix = 'AnimationFrame',\n          raf = global['request' + suffix],\n          caf = global['cancel' + suffix] || global['cancelRequest' + suffix];\n\n      for (var i = 0; i < vendors.length && !raf; i++) {\n        raf = global[vendors[i] + 'Request' + suffix];\n        caf = global[vendors[i] + 'Cancel' + suffix] || global[vendors[i] + 'CancelRequest' + suffix];\n      } // Some versions of FF have rAF but not cAF\n\n\n      if (!raf || !caf) {\n        var last = 0,\n            id = 0,\n            queue = [],\n            frameDuration = 1000 / 60;\n\n        raf = function (callback) {\n          if (queue.length === 0) {\n            var _now = now(),\n                next = Math.max(0, frameDuration - (_now - last));\n\n            last = next + _now;\n            setTimeout(function () {\n              var cp = queue.slice(0); // Clear queue here to prevent\n              // callbacks from appending listeners\n              // to the current frame's queue\n\n              queue.length = 0;\n\n              for (var i = 0; i < cp.length; i++) {\n                if (!cp[i].cancelled) {\n                  try {\n                    cp[i].callback(last);\n                  } catch (e) {\n                    setTimeout(function () {\n                      throw e;\n                    }, 0);\n                  }\n                }\n              }\n            }, Math.round(next));\n          }\n\n          queue.push({\n            handle: ++id,\n            callback: callback,\n            cancelled: false\n          });\n          return id;\n        };\n\n        caf = function (handle) {\n          for (var i = 0; i < queue.length; i++) {\n            if (queue[i].handle === handle) {\n              queue[i].cancelled = true;\n            }\n          }\n        };\n      }\n\n      module.exports = function (fn) {\n        // Wrap in a new function to prevent\n        // `cancel` potentially being assigned\n        // to the native rAF function\n        return raf.call(global, fn);\n      };\n\n      module.exports.cancel = function () {\n        caf.apply(global, arguments);\n      };\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports) {\n      // usage assumption: currentStyle values have already been rendered but it says\n      // nothing of whether currentStyle is stale (see unreadPropStyle)\n      'use strict';\n\n      exports.__esModule = true;\n      exports['default'] = shouldStopAnimation;\n\n      function shouldStopAnimation(currentStyle, style, currentVelocity) {\n        for (var key in style) {\n          if (!style.hasOwnProperty(key)) {\n            continue;\n          }\n\n          if (currentVelocity[key] !== 0) {\n            return false;\n          }\n\n          var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val; // stepper will have already taken care of rounding precision errors, so\n          // won't have such thing as 0.9999 !=== 1\n\n          if (currentStyle[key] !== styleValue) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      exports.__esModule = true;\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      var _mapToZero = __webpack_require__(2);\n\n      var _mapToZero2 = _interopRequireDefault(_mapToZero);\n\n      var _stripStyle = __webpack_require__(3);\n\n      var _stripStyle2 = _interopRequireDefault(_stripStyle);\n\n      var _stepper3 = __webpack_require__(4);\n\n      var _stepper4 = _interopRequireDefault(_stepper3);\n\n      var _performanceNow = __webpack_require__(5);\n\n      var _performanceNow2 = _interopRequireDefault(_performanceNow);\n\n      var _raf = __webpack_require__(7);\n\n      var _raf2 = _interopRequireDefault(_raf);\n\n      var _shouldStopAnimation = __webpack_require__(8);\n\n      var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\n      var _react = __webpack_require__(9);\n\n      var _react2 = _interopRequireDefault(_react);\n\n      var msPerFrame = 1000 / 60;\n\n      function shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n        for (var i = 0; i < currentStyles.length; i++) {\n          if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      var StaggeredMotion = _react2['default'].createClass({\n        displayName: 'StaggeredMotion',\n        propTypes: {\n          // TOOD: warn against putting a config in here\n          defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.objectOf(_react.PropTypes.number)),\n          styles: _react.PropTypes.func.isRequired,\n          children: _react.PropTypes.func.isRequired\n        },\n        getInitialState: function getInitialState() {\n          var _props = this.props;\n          var defaultStyles = _props.defaultStyles;\n          var styles = _props.styles;\n          var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n          var currentVelocities = currentStyles.map(function (currentStyle) {\n            return _mapToZero2['default'](currentStyle);\n          });\n          return {\n            currentStyles: currentStyles,\n            currentVelocities: currentVelocities,\n            lastIdealStyles: currentStyles,\n            lastIdealVelocities: currentVelocities\n          };\n        },\n        animationID: null,\n        prevTime: 0,\n        accumulatedTime: 0,\n        // it's possible that currentStyle's value is stale: if props is immediately\n        // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n        // at 0 (didn't have time to tick and interpolate even once). If we naively\n        // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n        // In reality currentStyle should be 400\n        unreadPropStyles: null,\n        // after checking for unreadPropStyles != null, we manually go set the\n        // non-interpolating values (those that are a number, without a spring\n        // config)\n        clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {\n          var _state = this.state;\n          var currentStyles = _state.currentStyles;\n          var currentVelocities = _state.currentVelocities;\n          var lastIdealStyles = _state.lastIdealStyles;\n          var lastIdealVelocities = _state.lastIdealVelocities;\n          var someDirty = false;\n\n          for (var i = 0; i < unreadPropStyles.length; i++) {\n            var unreadPropStyle = unreadPropStyles[i];\n            var dirty = false;\n\n            for (var key in unreadPropStyle) {\n              if (!unreadPropStyle.hasOwnProperty(key)) {\n                continue;\n              }\n\n              var styleValue = unreadPropStyle[key];\n\n              if (typeof styleValue === 'number') {\n                if (!dirty) {\n                  dirty = true;\n                  someDirty = true;\n                  currentStyles[i] = _extends({}, currentStyles[i]);\n                  currentVelocities[i] = _extends({}, currentVelocities[i]);\n                  lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n                  lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n                }\n\n                currentStyles[i][key] = styleValue;\n                currentVelocities[i][key] = 0;\n                lastIdealStyles[i][key] = styleValue;\n                lastIdealVelocities[i][key] = 0;\n              }\n            }\n          }\n\n          if (someDirty) {\n            this.setState({\n              currentStyles: currentStyles,\n              currentVelocities: currentVelocities,\n              lastIdealStyles: lastIdealStyles,\n              lastIdealVelocities: lastIdealVelocities\n            });\n          }\n        },\n        startAnimationIfNecessary: function startAnimationIfNecessary() {\n          var _this = this; // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n          // call cb? No, otherwise accidental parent rerender causes cb trigger\n\n\n          this.animationID = _raf2['default'](function () {\n            var destStyles = _this.props.styles(_this.state.lastIdealStyles); // check if we need to animate in the first place\n\n\n            if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n              // no need to cancel animationID here; shouldn't have any in flight\n              _this.animationID = null;\n              _this.accumulatedTime = 0;\n              return;\n            }\n\n            var currentTime = _performanceNow2['default']();\n\n            var timeDelta = currentTime - _this.prevTime;\n            _this.prevTime = currentTime;\n            _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n            if (_this.accumulatedTime > msPerFrame * 10) {\n              _this.accumulatedTime = 0;\n            }\n\n            if (_this.accumulatedTime === 0) {\n              // no need to cancel animationID here; shouldn't have any in flight\n              _this.animationID = null;\n\n              _this.startAnimationIfNecessary();\n\n              return;\n            }\n\n            var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n            var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n            var newLastIdealStyles = [];\n            var newLastIdealVelocities = [];\n            var newCurrentStyles = [];\n            var newCurrentVelocities = [];\n\n            for (var i = 0; i < destStyles.length; i++) {\n              var destStyle = destStyles[i];\n              var newCurrentStyle = {};\n              var newCurrentVelocity = {};\n              var newLastIdealStyle = {};\n              var newLastIdealVelocity = {};\n\n              for (var key in destStyle) {\n                if (!destStyle.hasOwnProperty(key)) {\n                  continue;\n                }\n\n                var styleValue = destStyle[key];\n\n                if (typeof styleValue === 'number') {\n                  newCurrentStyle[key] = styleValue;\n                  newCurrentVelocity[key] = 0;\n                  newLastIdealStyle[key] = styleValue;\n                  newLastIdealVelocity[key] = 0;\n                } else {\n                  var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n                  var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n\n                  for (var j = 0; j < framesToCatchUp; j++) {\n                    var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                    newLastIdealStyleValue = _stepper[0];\n                    newLastIdealVelocityValue = _stepper[1];\n                  }\n\n                  var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                  var nextIdealX = _stepper2[0];\n                  var nextIdealV = _stepper2[1];\n                  newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n                  newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n                  newLastIdealStyle[key] = newLastIdealStyleValue;\n                  newLastIdealVelocity[key] = newLastIdealVelocityValue;\n                }\n              }\n\n              newCurrentStyles[i] = newCurrentStyle;\n              newCurrentVelocities[i] = newCurrentVelocity;\n              newLastIdealStyles[i] = newLastIdealStyle;\n              newLastIdealVelocities[i] = newLastIdealVelocity;\n            }\n\n            _this.animationID = null; // the amount we're looped over above\n\n            _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n            _this.setState({\n              currentStyles: newCurrentStyles,\n              currentVelocities: newCurrentVelocities,\n              lastIdealStyles: newLastIdealStyles,\n              lastIdealVelocities: newLastIdealVelocities\n            });\n\n            _this.unreadPropStyles = null;\n\n            _this.startAnimationIfNecessary();\n          });\n        },\n        componentDidMount: function componentDidMount() {\n          this.prevTime = _performanceNow2['default']();\n          this.startAnimationIfNecessary();\n        },\n        componentWillReceiveProps: function componentWillReceiveProps(props) {\n          if (this.unreadPropStyles != null) {\n            // previous props haven't had the chance to be set yet; set them here\n            this.clearUnreadPropStyle(this.unreadPropStyles);\n          }\n\n          this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n\n          if (this.animationID == null) {\n            this.prevTime = _performanceNow2['default']();\n            this.startAnimationIfNecessary();\n          }\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          if (this.animationID != null) {\n            _raf2['default'].cancel(this.animationID);\n\n            this.animationID = null;\n          }\n        },\n        render: function render() {\n          var renderedChildren = this.props.children(this.state.currentStyles);\n          return renderedChildren && _react2['default'].Children.only(renderedChildren);\n        }\n      });\n\n      exports['default'] = StaggeredMotion;\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      exports.__esModule = true;\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      var _mapToZero = __webpack_require__(2);\n\n      var _mapToZero2 = _interopRequireDefault(_mapToZero);\n\n      var _stripStyle = __webpack_require__(3);\n\n      var _stripStyle2 = _interopRequireDefault(_stripStyle);\n\n      var _stepper3 = __webpack_require__(4);\n\n      var _stepper4 = _interopRequireDefault(_stepper3);\n\n      var _mergeDiff = __webpack_require__(12);\n\n      var _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\n      var _performanceNow = __webpack_require__(5);\n\n      var _performanceNow2 = _interopRequireDefault(_performanceNow);\n\n      var _raf = __webpack_require__(7);\n\n      var _raf2 = _interopRequireDefault(_raf);\n\n      var _shouldStopAnimation = __webpack_require__(8);\n\n      var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\n      var _react = __webpack_require__(9);\n\n      var _react2 = _interopRequireDefault(_react);\n\n      var msPerFrame = 1000 / 60; // the children function & (potential) styles function asks as param an\n      // Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n      // {key: string, data?: any, style: PlainStyle}. However, the way we keep\n      // internal states doesn't contain such a data structure (check the state and\n      // TransitionMotionState). So when children function and others ask for such\n      // data we need to generate them on the fly by combining mergedPropsStyles and\n      // currentStyles/lastIdealStyles\n\n      function rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n        if (unreadPropStyles == null) {\n          // $FlowFixMe\n          return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n            return {\n              key: mergedPropsStyle.key,\n              data: mergedPropsStyle.data,\n              style: plainStyles[i]\n            };\n          });\n        }\n\n        return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n          // $FlowFixMe\n          for (var j = 0; j < unreadPropStyles.length; j++) {\n            // $FlowFixMe\n            if (unreadPropStyles[j].key === mergedPropsStyle.key) {\n              return {\n                // $FlowFixMe\n                key: unreadPropStyles[j].key,\n                data: unreadPropStyles[j].data,\n                style: plainStyles[i]\n              };\n            }\n          } // $FlowFixMe\n\n\n          return {\n            key: mergedPropsStyle.key,\n            data: mergedPropsStyle.data,\n            style: plainStyles[i]\n          };\n        });\n      }\n\n      function shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n        if (mergedPropsStyles.length !== destStyles.length) {\n          return false;\n        }\n\n        for (var i = 0; i < mergedPropsStyles.length; i++) {\n          if (mergedPropsStyles[i].key !== destStyles[i].key) {\n            return false;\n          }\n        } // we have the invariant that mergedPropsStyles and\n        // currentStyles/currentVelocities/last* are synced in terms of cells, see\n        // mergeAndSync comment for more info\n\n\n        for (var i = 0; i < mergedPropsStyles.length; i++) {\n          if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n            return false;\n          }\n        }\n\n        return true;\n      } // core key merging logic\n      // things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n      // c}, previous current (interpolating) style is {a, b}\n      // **invariant**: current[i] corresponds to merged[i] in terms of key\n      // steps:\n      // turn merged style into {a?, b, c}\n      //    add c, value of c is destStyles.c\n      //    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n      // turn current (interpolating) style from {a, b} into {a?, b, c}\n      //    maybe remove a\n      //    certainly add c, value of c is willEnter(c)\n      // loop over merged and construct new current\n      // dest doesn't change, that's owner's\n\n\n      function mergeAndSync(willEnter, willLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n        var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n          var leavingStyle = willLeave(oldMergedPropsStyle);\n\n          if (leavingStyle == null) {\n            return null;\n          }\n\n          if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n            return null;\n          }\n\n          return {\n            key: oldMergedPropsStyle.key,\n            data: oldMergedPropsStyle.data,\n            style: leavingStyle\n          };\n        });\n\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyleCell = newMergedPropsStyles[i];\n          var foundOldIndex = null;\n\n          for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n            if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n              foundOldIndex = j;\n              break;\n            }\n          } // TODO: key search code\n\n\n          if (foundOldIndex == null) {\n            var plainStyle = willEnter(newMergedPropsStyleCell);\n            newCurrentStyles[i] = plainStyle;\n            newLastIdealStyles[i] = plainStyle; // $FlowFixMe\n\n            var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n\n            newCurrentVelocities[i] = velocity;\n            newLastIdealVelocities[i] = velocity;\n          } else {\n            newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n            newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n            newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n            newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n          }\n        }\n\n        return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n      }\n\n      var TransitionMotion = _react2['default'].createClass({\n        displayName: 'TransitionMotion',\n        propTypes: {\n          defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.shape({\n            key: _react.PropTypes.string.isRequired,\n            data: _react.PropTypes.any,\n            style: _react.PropTypes.objectOf(_react.PropTypes.number).isRequired\n          })),\n          styles: _react.PropTypes.oneOfType([_react.PropTypes.func, _react.PropTypes.arrayOf(_react.PropTypes.shape({\n            key: _react.PropTypes.string.isRequired,\n            data: _react.PropTypes.any,\n            style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired\n          }))]).isRequired,\n          children: _react.PropTypes.func.isRequired,\n          willLeave: _react.PropTypes.func,\n          willEnter: _react.PropTypes.func\n        },\n        getDefaultProps: function getDefaultProps() {\n          return {\n            willEnter: function willEnter(styleThatEntered) {\n              return _stripStyle2['default'](styleThatEntered.style);\n            },\n            // recall: returning null makes the current unmounting TransitionStyle\n            // disappear immediately\n            willLeave: function willLeave() {\n              return null;\n            }\n          };\n        },\n        getInitialState: function getInitialState() {\n          var _props = this.props;\n          var defaultStyles = _props.defaultStyles;\n          var styles = _props.styles;\n          var willEnter = _props.willEnter;\n          var willLeave = _props.willLeave;\n          var destStyles = typeof styles === 'function' ? styles() : styles; // this is special. for the first time around, we don't have a comparison\n          // between last (no last) and current merged props. we'll compute last so:\n          // say default is {a, b} and styles (dest style) is {b, c}, we'll\n          // fabricate last as {a, b}\n\n          var oldMergedPropsStyles = undefined;\n\n          if (defaultStyles == null) {\n            oldMergedPropsStyles = destStyles;\n          } else {\n            // $FlowFixMe\n            oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n              // TODO: key search code\n              for (var i = 0; i < destStyles.length; i++) {\n                if (destStyles[i].key === defaultStyleCell.key) {\n                  return destStyles[i];\n                }\n              }\n\n              return defaultStyleCell;\n            });\n          }\n\n          var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n            return _stripStyle2['default'](s.style);\n          }) : defaultStyles.map(function (s) {\n            return _stripStyle2['default'](s.style);\n          });\n          var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n            return _mapToZero2['default'](s.style);\n          }) : defaultStyles.map(function (s) {\n            return _mapToZero2['default'](s.style);\n          });\n\n          var _mergeAndSync = mergeAndSync( // $FlowFixMe\n          willEnter, // $FlowFixMe\n          willLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n          oldCurrentVelocities);\n\n          var mergedPropsStyles = _mergeAndSync[0];\n          var currentStyles = _mergeAndSync[1];\n          var currentVelocities = _mergeAndSync[2];\n          var lastIdealStyles = _mergeAndSync[3];\n          var lastIdealVelocities = _mergeAndSync[4]; // oldLastIdealVelocities really\n\n          return {\n            currentStyles: currentStyles,\n            currentVelocities: currentVelocities,\n            lastIdealStyles: lastIdealStyles,\n            lastIdealVelocities: lastIdealVelocities,\n            mergedPropsStyles: mergedPropsStyles\n          };\n        },\n        animationID: null,\n        prevTime: 0,\n        accumulatedTime: 0,\n        // it's possible that currentStyle's value is stale: if props is immediately\n        // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n        // at 0 (didn't have time to tick and interpolate even once). If we naively\n        // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n        // In reality currentStyle should be 400\n        unreadPropStyles: null,\n        // after checking for unreadPropStyles != null, we manually go set the\n        // non-interpolating values (those that are a number, without a spring\n        // config)\n        clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {\n          var _mergeAndSync2 = mergeAndSync( // $FlowFixMe\n          this.props.willEnter, // $FlowFixMe\n          this.props.willLeave, this.state.mergedPropsStyles, unreadPropStyles, this.state.currentStyles, this.state.currentVelocities, this.state.lastIdealStyles, this.state.lastIdealVelocities);\n\n          var mergedPropsStyles = _mergeAndSync2[0];\n          var currentStyles = _mergeAndSync2[1];\n          var currentVelocities = _mergeAndSync2[2];\n          var lastIdealStyles = _mergeAndSync2[3];\n          var lastIdealVelocities = _mergeAndSync2[4];\n\n          for (var i = 0; i < unreadPropStyles.length; i++) {\n            var unreadPropStyle = unreadPropStyles[i].style;\n            var dirty = false;\n\n            for (var key in unreadPropStyle) {\n              if (!unreadPropStyle.hasOwnProperty(key)) {\n                continue;\n              }\n\n              var styleValue = unreadPropStyle[key];\n\n              if (typeof styleValue === 'number') {\n                if (!dirty) {\n                  dirty = true;\n                  currentStyles[i] = _extends({}, currentStyles[i]);\n                  currentVelocities[i] = _extends({}, currentVelocities[i]);\n                  lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n                  lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n                  mergedPropsStyles[i] = {\n                    key: mergedPropsStyles[i].key,\n                    data: mergedPropsStyles[i].data,\n                    style: _extends({}, mergedPropsStyles[i].style)\n                  };\n                }\n\n                currentStyles[i][key] = styleValue;\n                currentVelocities[i][key] = 0;\n                lastIdealStyles[i][key] = styleValue;\n                lastIdealVelocities[i][key] = 0;\n                mergedPropsStyles[i].style[key] = styleValue;\n              }\n            }\n          } // unlike the other 2 components, we can't detect staleness and optionally\n          // opt out of setState here. each style object's data might contain new\n          // stuff we're not/cannot compare\n\n\n          this.setState({\n            currentStyles: currentStyles,\n            currentVelocities: currentVelocities,\n            mergedPropsStyles: mergedPropsStyles,\n            lastIdealStyles: lastIdealStyles,\n            lastIdealVelocities: lastIdealVelocities\n          });\n        },\n        startAnimationIfNecessary: function startAnimationIfNecessary() {\n          var _this = this; // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n          // call cb? No, otherwise accidental parent rerender causes cb trigger\n\n\n          this.animationID = _raf2['default'](function () {\n            var propStyles = _this.props.styles;\n            var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles; // check if we need to animate in the first place\n\n            if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n              // no need to cancel animationID here; shouldn't have any in flight\n              _this.animationID = null;\n              _this.accumulatedTime = 0;\n              return;\n            }\n\n            var currentTime = _performanceNow2['default']();\n\n            var timeDelta = currentTime - _this.prevTime;\n            _this.prevTime = currentTime;\n            _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n            if (_this.accumulatedTime > msPerFrame * 10) {\n              _this.accumulatedTime = 0;\n            }\n\n            if (_this.accumulatedTime === 0) {\n              // no need to cancel animationID here; shouldn't have any in flight\n              _this.animationID = null;\n\n              _this.startAnimationIfNecessary();\n\n              return;\n            }\n\n            var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n            var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n            var _mergeAndSync3 = mergeAndSync( // $FlowFixMe\n            _this.props.willEnter, // $FlowFixMe\n            _this.props.willLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n            var newMergedPropsStyles = _mergeAndSync3[0];\n            var newCurrentStyles = _mergeAndSync3[1];\n            var newCurrentVelocities = _mergeAndSync3[2];\n            var newLastIdealStyles = _mergeAndSync3[3];\n            var newLastIdealVelocities = _mergeAndSync3[4];\n\n            for (var i = 0; i < newMergedPropsStyles.length; i++) {\n              var newMergedPropsStyle = newMergedPropsStyles[i].style;\n              var newCurrentStyle = {};\n              var newCurrentVelocity = {};\n              var newLastIdealStyle = {};\n              var newLastIdealVelocity = {};\n\n              for (var key in newMergedPropsStyle) {\n                if (!newMergedPropsStyle.hasOwnProperty(key)) {\n                  continue;\n                }\n\n                var styleValue = newMergedPropsStyle[key];\n\n                if (typeof styleValue === 'number') {\n                  newCurrentStyle[key] = styleValue;\n                  newCurrentVelocity[key] = 0;\n                  newLastIdealStyle[key] = styleValue;\n                  newLastIdealVelocity[key] = 0;\n                } else {\n                  var newLastIdealStyleValue = newLastIdealStyles[i][key];\n                  var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n\n                  for (var j = 0; j < framesToCatchUp; j++) {\n                    var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                    newLastIdealStyleValue = _stepper[0];\n                    newLastIdealVelocityValue = _stepper[1];\n                  }\n\n                  var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                  var nextIdealX = _stepper2[0];\n                  var nextIdealV = _stepper2[1];\n                  newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n                  newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n                  newLastIdealStyle[key] = newLastIdealStyleValue;\n                  newLastIdealVelocity[key] = newLastIdealVelocityValue;\n                }\n              }\n\n              newLastIdealStyles[i] = newLastIdealStyle;\n              newLastIdealVelocities[i] = newLastIdealVelocity;\n              newCurrentStyles[i] = newCurrentStyle;\n              newCurrentVelocities[i] = newCurrentVelocity;\n            }\n\n            _this.animationID = null; // the amount we're looped over above\n\n            _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n            _this.setState({\n              currentStyles: newCurrentStyles,\n              currentVelocities: newCurrentVelocities,\n              lastIdealStyles: newLastIdealStyles,\n              lastIdealVelocities: newLastIdealVelocities,\n              mergedPropsStyles: newMergedPropsStyles\n            });\n\n            _this.unreadPropStyles = null;\n\n            _this.startAnimationIfNecessary();\n          });\n        },\n        componentDidMount: function componentDidMount() {\n          this.prevTime = _performanceNow2['default']();\n          this.startAnimationIfNecessary();\n        },\n        componentWillReceiveProps: function componentWillReceiveProps(props) {\n          if (this.unreadPropStyles) {\n            // previous props haven't had the chance to be set yet; set them here\n            this.clearUnreadPropStyle(this.unreadPropStyles);\n          }\n\n          if (typeof props.styles === 'function') {\n            // $FlowFixMe\n            this.unreadPropStyles = props.styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n          } else {\n            this.unreadPropStyles = props.styles;\n          }\n\n          if (this.animationID == null) {\n            this.prevTime = _performanceNow2['default']();\n            this.startAnimationIfNecessary();\n          }\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          if (this.animationID != null) {\n            _raf2['default'].cancel(this.animationID);\n\n            this.animationID = null;\n          }\n        },\n        render: function render() {\n          var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n          var renderedChildren = this.props.children(hydratedStyles);\n          return renderedChildren && _react2['default'].Children.only(renderedChildren);\n        }\n      });\n\n      exports['default'] = TransitionMotion;\n      module.exports = exports['default']; // list of styles, each containing interpolating values. Part of what's passed\n      // to children function. Notice that this is\n      // Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n      // data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n      // contains the key & data info (so that we only have a single source of truth\n      // for these, and to save space). Check the comment for `rehydrateStyles` to\n      // see how we regenerate the entirety of what's passed to children function\n      // the array that keeps track of currently rendered stuff! Including stuff\n      // that you've unmounted but that's still animating. This is where it lives\n\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports) {\n      // core keys merging algorithm. If previous render's keys are [a, b], and the\n      // next render's [c, b, d], what's the final merged keys and ordering?\n      // - c and a must both be before b\n      // - b before d\n      // - ordering between a and c ambiguous\n      // this reduces to merging two partially ordered lists (e.g. lists where not\n      // every item has a definite ordering, like comparing a and c above). For the\n      // ambiguous ordering we deterministically choose to place the next render's\n      // item after the previous'; so c after a\n      // this is called a topological sorting. Except the existing algorithms don't\n      // work well with js bc of the amount of allocation, and isn't optimized for our\n      // current use-case bc the runtime is linear in terms of edges (see wiki for\n      // meaning), which is huge when two lists have many common elements\n      'use strict';\n\n      exports.__esModule = true;\n      exports['default'] = mergeDiff;\n\n      function mergeDiff(prev, next, onRemove) {\n        // bookkeeping for easier access of a key's index below. This is 2 allocations +\n        // potentially triggering chrome hash map mode for objs (so it might be faster\n        var prevKeyIndex = {};\n\n        for (var i = 0; i < prev.length; i++) {\n          prevKeyIndex[prev[i].key] = i;\n        }\n\n        var nextKeyIndex = {};\n\n        for (var i = 0; i < next.length; i++) {\n          nextKeyIndex[next[i].key] = i;\n        } // first, an overly elaborate way of merging prev and next, eliminating\n        // duplicates (in terms of keys). If there's dupe, keep the item in next).\n        // This way of writing it saves allocations\n\n\n        var ret = [];\n\n        for (var i = 0; i < next.length; i++) {\n          ret[i] = next[i];\n        }\n\n        for (var i = 0; i < prev.length; i++) {\n          if (!nextKeyIndex.hasOwnProperty(prev[i].key)) {\n            // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n            // merge in keys that the user desires to kill\n            var fill = onRemove(i, prev[i]);\n\n            if (fill != null) {\n              ret.push(fill);\n            }\n          }\n        } // now all the items all present. Core sorting logic to have the right order\n\n\n        return ret.sort(function (a, b) {\n          var nextOrderA = nextKeyIndex[a.key];\n          var nextOrderB = nextKeyIndex[b.key];\n          var prevOrderA = prevKeyIndex[a.key];\n          var prevOrderB = prevKeyIndex[b.key];\n\n          if (nextOrderA != null && nextOrderB != null) {\n            // both keys in next\n            return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n          } else if (prevOrderA != null && prevOrderB != null) {\n            // both keys in prev\n            return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n          } else if (nextOrderA != null) {\n            // key a in next, key b in prev\n            // how to determine the order between a and b? We find a \"pivot\" (term\n            // abuse), a key present in both prev and next, that is sandwiched between\n            // a and b. In the context of our above example, if we're comparing a and\n            // d, b's (the only) pivot\n            for (var i = 0; i < next.length; i++) {\n              var pivot = next[i].key;\n\n              if (!prevKeyIndex.hasOwnProperty(pivot)) {\n                continue;\n              }\n\n              if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n                return -1;\n              } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n                return 1;\n              }\n            } // pluggable. default to: next bigger than prev\n\n\n            return 1;\n          } // prevOrderA, nextOrderB\n\n\n          for (var i = 0; i < next.length; i++) {\n            var pivot = next[i].key;\n\n            if (!prevKeyIndex.hasOwnProperty(pivot)) {\n              continue;\n            }\n\n            if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n              return 1;\n            } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n              return -1;\n            }\n          } // pluggable. default to: next bigger than prev\n\n\n          return -1;\n        });\n      }\n\n      module.exports = exports['default']; // to loop through and find a key's index each time), but I no longer care\n\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      exports.__esModule = true;\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      exports['default'] = spring;\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      var _presets = __webpack_require__(14);\n\n      var _presets2 = _interopRequireDefault(_presets);\n\n      var defaultConfig = _extends({}, _presets2['default'].noWobble, {\n        precision: 0.01\n      });\n\n      function spring(val, config) {\n        return _extends({}, defaultConfig, config, {\n          val: val\n        });\n      }\n\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports) {\n      \"use strict\";\n\n      exports.__esModule = true;\n      exports[\"default\"] = {\n        noWobble: {\n          stiffness: 170,\n          damping: 26\n        },\n        // the default, if nothing provided\n        gentle: {\n          stiffness: 120,\n          damping: 14\n        },\n        wobbly: {\n          stiffness: 180,\n          damping: 12\n        },\n        stiff: {\n          stiffness: 210,\n          damping: 20\n        }\n      };\n      module.exports = exports[\"default\"];\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (process) {\n        'use strict';\n\n        exports.__esModule = true;\n        exports['default'] = reorderKeys;\n        var hasWarned = false;\n\n        function reorderKeys() {\n          if (process.env.NODE_ENV === 'development') {\n            if (!hasWarned) {\n              hasWarned = true;\n              console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n            }\n          }\n        }\n\n        module.exports = exports['default'];\n        /* WEBPACK VAR INJECTION */\n      }).call(exports, __webpack_require__(6));\n      /***/\n    }\n    /******/\n    ])\n  );\n});\n\n;","map":{"version":3,"sources":["/Users/rayaq/Desktop/SlidingPuzzle/sliding-puzzle/src/react-motion.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_9__","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","__esModule","_interopRequire","obj","_Motion","Motion","_StaggeredMotion","StaggeredMotion","_TransitionMotion","TransitionMotion","_spring","spring","_presets","presets","_reorderKeys","reorderKeys","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","_interopRequireDefault","_mapToZero","_mapToZero2","_stripStyle","_stripStyle2","_stepper3","_stepper4","_performanceNow","_performanceNow2","_raf","_raf2","_shouldStopAnimation","_shouldStopAnimation2","_react","_react2","msPerFrame","createClass","displayName","propTypes","defaultStyle","PropTypes","objectOf","number","style","oneOfType","object","isRequired","children","func","onRest","getInitialState","_props","props","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","_state","state","styleValue","setState","startAnimationIfNecessary","_this","propsStyle","currentTime","timeDelta","currentFrameCompletion","Math","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","stiffness","damping","precision","_stepper2","nextIdealX","nextIdealV","componentDidMount","componentWillReceiveProps","componentWillUnmount","cancel","render","renderedChildren","Children","only","mapToZero","ret","stripStyle","stepper","reusedTuple","secondPerFrame","x","v","destX","k","b","Fspring","Fdamper","a","newV","newX","abs","process","getNanoSeconds","hrtime","loadTime","performance","now","hr","Date","getTime","undefined","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","setTimeout","len","run","clearTimeout","nextTick","fun","args","Array","push","Item","array","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","Error","cwd","chdir","dir","umask","global","window","vendors","suffix","raf","caf","last","frameDuration","callback","_now","next","max","cp","slice","cancelled","e","round","handle","fn","shouldStopAnimation","shouldStopAnimationAll","currentStyles","styles","currentVelocities","defaultStyles","arrayOf","map","lastIdealStyles","lastIdealVelocities","unreadPropStyles","someDirty","destStyles","newLastIdealStyles","newLastIdealVelocities","newCurrentStyles","newCurrentVelocities","j","_mergeDiff","_mergeDiff2","rehydrateStyles","mergedPropsStyles","plainStyles","mergedPropsStyle","data","mergeAndSync","willEnter","willLeave","oldMergedPropsStyles","oldCurrentStyles","oldCurrentVelocities","oldLastIdealStyles","oldLastIdealVelocities","newMergedPropsStyles","oldIndex","oldMergedPropsStyle","leavingStyle","newMergedPropsStyleCell","foundOldIndex","plainStyle","velocity","shape","string","any","getDefaultProps","styleThatEntered","defaultStyleCell","s","_mergeAndSync","_mergeAndSync2","propStyles","_mergeAndSync3","newMergedPropsStyle","hydratedStyles","mergeDiff","prev","onRemove","prevKeyIndex","nextKeyIndex","fill","sort","nextOrderA","nextOrderB","prevOrderA","prevOrderB","pivot","_presets2","defaultConfig","noWobble","config","gentle","wobbly","stiff","hasWarned","NODE_ENV","console","error"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactMotion\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactMotion\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_9__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\t\n\tvar _Motion = __webpack_require__(1);\n\t\n\texports.Motion = _interopRequire(_Motion);\n\t\n\tvar _StaggeredMotion = __webpack_require__(10);\n\t\n\texports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\t\n\tvar _TransitionMotion = __webpack_require__(11);\n\t\n\texports.TransitionMotion = _interopRequire(_TransitionMotion);\n\t\n\tvar _spring = __webpack_require__(13);\n\t\n\texports.spring = _interopRequire(_spring);\n\t\n\tvar _presets = __webpack_require__(14);\n\t\n\texports.presets = _interopRequire(_presets);\n\t\n\t// deprecated, dummy warning function\n\t\n\tvar _reorderKeys = __webpack_require__(15);\n\t\n\texports.reorderKeys = _interopRequire(_reorderKeys);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _mapToZero = __webpack_require__(2);\n\t\n\tvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\t\n\tvar _stripStyle = __webpack_require__(3);\n\t\n\tvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\t\n\tvar _stepper3 = __webpack_require__(4);\n\t\n\tvar _stepper4 = _interopRequireDefault(_stepper3);\n\t\n\tvar _performanceNow = __webpack_require__(5);\n\t\n\tvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\t\n\tvar _raf = __webpack_require__(7);\n\t\n\tvar _raf2 = _interopRequireDefault(_raf);\n\t\n\tvar _shouldStopAnimation = __webpack_require__(8);\n\t\n\tvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\t\n\tvar _react = __webpack_require__(9);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar msPerFrame = 1000 / 60;\n\t\n\tvar Motion = _react2['default'].createClass({\n\t  displayName: 'Motion',\n\t\n\t  propTypes: {\n\t    // TOOD: warn against putting a config in here\n\t    defaultStyle: _react.PropTypes.objectOf(_react.PropTypes.number),\n\t    style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired,\n\t    children: _react.PropTypes.func.isRequired,\n\t    onRest: _react.PropTypes.func\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    var _props = this.props;\n\t    var defaultStyle = _props.defaultStyle;\n\t    var style = _props.style;\n\t\n\t    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n\t    var currentVelocity = _mapToZero2['default'](currentStyle);\n\t    return {\n\t      currentStyle: currentStyle,\n\t      currentVelocity: currentVelocity,\n\t      lastIdealStyle: currentStyle,\n\t      lastIdealVelocity: currentVelocity\n\t    };\n\t  },\n\t\n\t  wasAnimating: false,\n\t  animationID: null,\n\t  prevTime: 0,\n\t  accumulatedTime: 0,\n\t  // it's possible that currentStyle's value is stale: if props is immediately\n\t  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n\t  // at 0 (didn't have time to tick and interpolate even once). If we naively\n\t  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n\t  // In reality currentStyle should be 400\n\t  unreadPropStyle: null,\n\t  // after checking for unreadPropStyle != null, we manually go set the\n\t  // non-interpolating values (those that are a number, without a spring\n\t  // config)\n\t  clearUnreadPropStyle: function clearUnreadPropStyle(destStyle) {\n\t    var dirty = false;\n\t    var _state = this.state;\n\t    var currentStyle = _state.currentStyle;\n\t    var currentVelocity = _state.currentVelocity;\n\t    var lastIdealStyle = _state.lastIdealStyle;\n\t    var lastIdealVelocity = _state.lastIdealVelocity;\n\t\n\t    for (var key in destStyle) {\n\t      if (!destStyle.hasOwnProperty(key)) {\n\t        continue;\n\t      }\n\t\n\t      var styleValue = destStyle[key];\n\t      if (typeof styleValue === 'number') {\n\t        if (!dirty) {\n\t          dirty = true;\n\t          currentStyle = _extends({}, currentStyle);\n\t          currentVelocity = _extends({}, currentVelocity);\n\t          lastIdealStyle = _extends({}, lastIdealStyle);\n\t          lastIdealVelocity = _extends({}, lastIdealVelocity);\n\t        }\n\t\n\t        currentStyle[key] = styleValue;\n\t        currentVelocity[key] = 0;\n\t        lastIdealStyle[key] = styleValue;\n\t        lastIdealVelocity[key] = 0;\n\t      }\n\t    }\n\t\n\t    if (dirty) {\n\t      this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n\t    }\n\t  },\n\t\n\t  startAnimationIfNecessary: function startAnimationIfNecessary() {\n\t    var _this = this;\n\t\n\t    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n\t    // call cb? No, otherwise accidental parent rerender causes cb trigger\n\t    this.animationID = _raf2['default'](function () {\n\t      // check if we need to animate in the first place\n\t      var propsStyle = _this.props.style;\n\t      if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n\t        if (_this.wasAnimating && _this.props.onRest) {\n\t          _this.props.onRest();\n\t        }\n\t\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.wasAnimating = false;\n\t        _this.accumulatedTime = 0;\n\t        return;\n\t      }\n\t\n\t      _this.wasAnimating = true;\n\t\n\t      var currentTime = _performanceNow2['default']();\n\t      var timeDelta = currentTime - _this.prevTime;\n\t      _this.prevTime = currentTime;\n\t      _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n\t      // more than 10 frames? prolly switched browser tab. Restart\n\t      if (_this.accumulatedTime > msPerFrame * 10) {\n\t        _this.accumulatedTime = 0;\n\t      }\n\t\n\t      if (_this.accumulatedTime === 0) {\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.startAnimationIfNecessary();\n\t        return;\n\t      }\n\t\n\t      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n\t      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\t\n\t      var newLastIdealStyle = {};\n\t      var newLastIdealVelocity = {};\n\t      var newCurrentStyle = {};\n\t      var newCurrentVelocity = {};\n\t\n\t      for (var key in propsStyle) {\n\t        if (!propsStyle.hasOwnProperty(key)) {\n\t          continue;\n\t        }\n\t\n\t        var styleValue = propsStyle[key];\n\t        if (typeof styleValue === 'number') {\n\t          newCurrentStyle[key] = styleValue;\n\t          newCurrentVelocity[key] = 0;\n\t          newLastIdealStyle[key] = styleValue;\n\t          newLastIdealVelocity[key] = 0;\n\t        } else {\n\t          var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n\t          var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n\t          for (var i = 0; i < framesToCatchUp; i++) {\n\t            var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t            newLastIdealStyleValue = _stepper[0];\n\t            newLastIdealVelocityValue = _stepper[1];\n\t          }\n\t\n\t          var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t          var nextIdealX = _stepper2[0];\n\t          var nextIdealV = _stepper2[1];\n\t\n\t          newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n\t          newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n\t          newLastIdealStyle[key] = newLastIdealStyleValue;\n\t          newLastIdealVelocity[key] = newLastIdealVelocityValue;\n\t        }\n\t      }\n\t\n\t      _this.animationID = null;\n\t      // the amount we're looped over above\n\t      _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\t\n\t      _this.setState({\n\t        currentStyle: newCurrentStyle,\n\t        currentVelocity: newCurrentVelocity,\n\t        lastIdealStyle: newLastIdealStyle,\n\t        lastIdealVelocity: newLastIdealVelocity\n\t      });\n\t\n\t      _this.unreadPropStyle = null;\n\t\n\t      _this.startAnimationIfNecessary();\n\t    });\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.prevTime = _performanceNow2['default']();\n\t    this.startAnimationIfNecessary();\n\t  },\n\t\n\t  componentWillReceiveProps: function componentWillReceiveProps(props) {\n\t    if (this.unreadPropStyle != null) {\n\t      // previous props haven't had the chance to be set yet; set them here\n\t      this.clearUnreadPropStyle(this.unreadPropStyle);\n\t    }\n\t\n\t    this.unreadPropStyle = props.style;\n\t    if (this.animationID == null) {\n\t      this.prevTime = _performanceNow2['default']();\n\t      this.startAnimationIfNecessary();\n\t    }\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    if (this.animationID != null) {\n\t      _raf2['default'].cancel(this.animationID);\n\t      this.animationID = null;\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    var renderedChildren = this.props.children(this.state.currentStyle);\n\t    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n\t  }\n\t});\n\t\n\texports['default'] = Motion;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\n\t\n\t// currently used to initiate the velocity style object to 0\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = mapToZero;\n\t\n\tfunction mapToZero(obj) {\n\t  var ret = {};\n\t  for (var key in obj) {\n\t    if (obj.hasOwnProperty(key)) {\n\t      ret[key] = 0;\n\t    }\n\t  }\n\t  return ret;\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\n\t// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n\t// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\t\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = stripStyle;\n\t\n\tfunction stripStyle(style) {\n\t  var ret = {};\n\t  for (var key in style) {\n\t    if (!style.hasOwnProperty(key)) {\n\t      continue;\n\t    }\n\t    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n\t  }\n\t  return ret;\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\n\t\n\t// stepper is used a lot. Saves allocation to return the same array wrapper.\n\t// This is fine and danger-free against mutations because the callsite\n\t// immediately destructures it and gets the numbers inside without passing the\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\texports[\"default\"] = stepper;\n\t\n\tvar reusedTuple = [];\n\t\n\tfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n\t  // Spring stiffness, in kg / s^2\n\t\n\t  // for animations, destX is really spring length (spring at rest). initial\n\t  // position is considered as the stretched/compressed position of a spring\n\t  var Fspring = -k * (x - destX);\n\t\n\t  // Damping, in kg / s\n\t  var Fdamper = -b * v;\n\t\n\t  // usually we put mass here, but for animation purposes, specifying mass is a\n\t  // bit redundant. you could simply adjust k and b accordingly\n\t  // let a = (Fspring + Fdamper) / mass;\n\t  var a = Fspring + Fdamper;\n\t\n\t  var newV = v + a * secondPerFrame;\n\t  var newX = x + newV * secondPerFrame;\n\t\n\t  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n\t    reusedTuple[0] = destX;\n\t    reusedTuple[1] = 0;\n\t    return reusedTuple;\n\t  }\n\t\n\t  reusedTuple[0] = newX;\n\t  reusedTuple[1] = newV;\n\t  return reusedTuple;\n\t}\n\t\n\tmodule.exports = exports[\"default\"];\n\t// array reference around.\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.7.1\n\t\"use strict\";\n\t\n\t(function () {\n\t  var getNanoSeconds, hrtime, loadTime;\n\t\n\t  if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n\t    module.exports = function () {\n\t      return performance.now();\n\t    };\n\t  } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n\t    module.exports = function () {\n\t      return (getNanoSeconds() - loadTime) / 1e6;\n\t    };\n\t    hrtime = process.hrtime;\n\t    getNanoSeconds = function () {\n\t      var hr;\n\t      hr = hrtime();\n\t      return hr[0] * 1e9 + hr[1];\n\t    };\n\t    loadTime = getNanoSeconds();\n\t  } else if (Date.now) {\n\t    module.exports = function () {\n\t      return Date.now() - loadTime;\n\t    };\n\t    loadTime = Date.now();\n\t  } else {\n\t    module.exports = function () {\n\t      return new Date().getTime() - loadTime;\n\t    };\n\t    loadTime = new Date().getTime();\n\t  }\n\t}).call(undefined);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\t'use strict';\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while (len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () {\n\t    return '/';\n\t};\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function () {\n\t    return 0;\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar now = __webpack_require__(5),\n\t    global = typeof window === 'undefined' ? {} : window,\n\t    vendors = ['moz', 'webkit'],\n\t    suffix = 'AnimationFrame',\n\t    raf = global['request' + suffix],\n\t    caf = global['cancel' + suffix] || global['cancelRequest' + suffix];\n\t\n\tfor (var i = 0; i < vendors.length && !raf; i++) {\n\t  raf = global[vendors[i] + 'Request' + suffix];\n\t  caf = global[vendors[i] + 'Cancel' + suffix] || global[vendors[i] + 'CancelRequest' + suffix];\n\t}\n\t\n\t// Some versions of FF have rAF but not cAF\n\tif (!raf || !caf) {\n\t  var last = 0,\n\t      id = 0,\n\t      queue = [],\n\t      frameDuration = 1000 / 60;\n\t\n\t  raf = function (callback) {\n\t    if (queue.length === 0) {\n\t      var _now = now(),\n\t          next = Math.max(0, frameDuration - (_now - last));\n\t      last = next + _now;\n\t      setTimeout(function () {\n\t        var cp = queue.slice(0);\n\t        // Clear queue here to prevent\n\t        // callbacks from appending listeners\n\t        // to the current frame's queue\n\t        queue.length = 0;\n\t        for (var i = 0; i < cp.length; i++) {\n\t          if (!cp[i].cancelled) {\n\t            try {\n\t              cp[i].callback(last);\n\t            } catch (e) {\n\t              setTimeout(function () {\n\t                throw e;\n\t              }, 0);\n\t            }\n\t          }\n\t        }\n\t      }, Math.round(next));\n\t    }\n\t    queue.push({\n\t      handle: ++id,\n\t      callback: callback,\n\t      cancelled: false\n\t    });\n\t    return id;\n\t  };\n\t\n\t  caf = function (handle) {\n\t    for (var i = 0; i < queue.length; i++) {\n\t      if (queue[i].handle === handle) {\n\t        queue[i].cancelled = true;\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\tmodule.exports = function (fn) {\n\t  // Wrap in a new function to prevent\n\t  // `cancel` potentially being assigned\n\t  // to the native rAF function\n\t  return raf.call(global, fn);\n\t};\n\tmodule.exports.cancel = function () {\n\t  caf.apply(global, arguments);\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\n\t\n\t// usage assumption: currentStyle values have already been rendered but it says\n\t// nothing of whether currentStyle is stale (see unreadPropStyle)\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = shouldStopAnimation;\n\t\n\tfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n\t  for (var key in style) {\n\t    if (!style.hasOwnProperty(key)) {\n\t      continue;\n\t    }\n\t\n\t    if (currentVelocity[key] !== 0) {\n\t      return false;\n\t    }\n\t\n\t    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n\t    // stepper will have already taken care of rounding precision errors, so\n\t    // won't have such thing as 0.9999 !=== 1\n\t    if (currentStyle[key] !== styleValue) {\n\t      return false;\n\t    }\n\t  }\n\t\n\t  return true;\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _mapToZero = __webpack_require__(2);\n\t\n\tvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\t\n\tvar _stripStyle = __webpack_require__(3);\n\t\n\tvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\t\n\tvar _stepper3 = __webpack_require__(4);\n\t\n\tvar _stepper4 = _interopRequireDefault(_stepper3);\n\t\n\tvar _performanceNow = __webpack_require__(5);\n\t\n\tvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\t\n\tvar _raf = __webpack_require__(7);\n\t\n\tvar _raf2 = _interopRequireDefault(_raf);\n\t\n\tvar _shouldStopAnimation = __webpack_require__(8);\n\t\n\tvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\t\n\tvar _react = __webpack_require__(9);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar msPerFrame = 1000 / 60;\n\t\n\tfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n\t  for (var i = 0; i < currentStyles.length; i++) {\n\t    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tvar StaggeredMotion = _react2['default'].createClass({\n\t  displayName: 'StaggeredMotion',\n\t\n\t  propTypes: {\n\t    // TOOD: warn against putting a config in here\n\t    defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.objectOf(_react.PropTypes.number)),\n\t    styles: _react.PropTypes.func.isRequired,\n\t    children: _react.PropTypes.func.isRequired\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    var _props = this.props;\n\t    var defaultStyles = _props.defaultStyles;\n\t    var styles = _props.styles;\n\t\n\t    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n\t    var currentVelocities = currentStyles.map(function (currentStyle) {\n\t      return _mapToZero2['default'](currentStyle);\n\t    });\n\t    return {\n\t      currentStyles: currentStyles,\n\t      currentVelocities: currentVelocities,\n\t      lastIdealStyles: currentStyles,\n\t      lastIdealVelocities: currentVelocities\n\t    };\n\t  },\n\t\n\t  animationID: null,\n\t  prevTime: 0,\n\t  accumulatedTime: 0,\n\t  // it's possible that currentStyle's value is stale: if props is immediately\n\t  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n\t  // at 0 (didn't have time to tick and interpolate even once). If we naively\n\t  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n\t  // In reality currentStyle should be 400\n\t  unreadPropStyles: null,\n\t  // after checking for unreadPropStyles != null, we manually go set the\n\t  // non-interpolating values (those that are a number, without a spring\n\t  // config)\n\t  clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {\n\t    var _state = this.state;\n\t    var currentStyles = _state.currentStyles;\n\t    var currentVelocities = _state.currentVelocities;\n\t    var lastIdealStyles = _state.lastIdealStyles;\n\t    var lastIdealVelocities = _state.lastIdealVelocities;\n\t\n\t    var someDirty = false;\n\t    for (var i = 0; i < unreadPropStyles.length; i++) {\n\t      var unreadPropStyle = unreadPropStyles[i];\n\t      var dirty = false;\n\t\n\t      for (var key in unreadPropStyle) {\n\t        if (!unreadPropStyle.hasOwnProperty(key)) {\n\t          continue;\n\t        }\n\t\n\t        var styleValue = unreadPropStyle[key];\n\t        if (typeof styleValue === 'number') {\n\t          if (!dirty) {\n\t            dirty = true;\n\t            someDirty = true;\n\t            currentStyles[i] = _extends({}, currentStyles[i]);\n\t            currentVelocities[i] = _extends({}, currentVelocities[i]);\n\t            lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n\t            lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n\t          }\n\t          currentStyles[i][key] = styleValue;\n\t          currentVelocities[i][key] = 0;\n\t          lastIdealStyles[i][key] = styleValue;\n\t          lastIdealVelocities[i][key] = 0;\n\t        }\n\t      }\n\t    }\n\t\n\t    if (someDirty) {\n\t      this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n\t    }\n\t  },\n\t\n\t  startAnimationIfNecessary: function startAnimationIfNecessary() {\n\t    var _this = this;\n\t\n\t    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n\t    // call cb? No, otherwise accidental parent rerender causes cb trigger\n\t    this.animationID = _raf2['default'](function () {\n\t      var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\t\n\t      // check if we need to animate in the first place\n\t      if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.accumulatedTime = 0;\n\t        return;\n\t      }\n\t\n\t      var currentTime = _performanceNow2['default']();\n\t      var timeDelta = currentTime - _this.prevTime;\n\t      _this.prevTime = currentTime;\n\t      _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n\t      // more than 10 frames? prolly switched browser tab. Restart\n\t      if (_this.accumulatedTime > msPerFrame * 10) {\n\t        _this.accumulatedTime = 0;\n\t      }\n\t\n\t      if (_this.accumulatedTime === 0) {\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.startAnimationIfNecessary();\n\t        return;\n\t      }\n\t\n\t      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n\t      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\t\n\t      var newLastIdealStyles = [];\n\t      var newLastIdealVelocities = [];\n\t      var newCurrentStyles = [];\n\t      var newCurrentVelocities = [];\n\t\n\t      for (var i = 0; i < destStyles.length; i++) {\n\t        var destStyle = destStyles[i];\n\t        var newCurrentStyle = {};\n\t        var newCurrentVelocity = {};\n\t        var newLastIdealStyle = {};\n\t        var newLastIdealVelocity = {};\n\t\n\t        for (var key in destStyle) {\n\t          if (!destStyle.hasOwnProperty(key)) {\n\t            continue;\n\t          }\n\t\n\t          var styleValue = destStyle[key];\n\t          if (typeof styleValue === 'number') {\n\t            newCurrentStyle[key] = styleValue;\n\t            newCurrentVelocity[key] = 0;\n\t            newLastIdealStyle[key] = styleValue;\n\t            newLastIdealVelocity[key] = 0;\n\t          } else {\n\t            var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n\t            var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n\t            for (var j = 0; j < framesToCatchUp; j++) {\n\t              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t              newLastIdealStyleValue = _stepper[0];\n\t              newLastIdealVelocityValue = _stepper[1];\n\t            }\n\t\n\t            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t            var nextIdealX = _stepper2[0];\n\t            var nextIdealV = _stepper2[1];\n\t\n\t            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n\t            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n\t            newLastIdealStyle[key] = newLastIdealStyleValue;\n\t            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n\t          }\n\t        }\n\t\n\t        newCurrentStyles[i] = newCurrentStyle;\n\t        newCurrentVelocities[i] = newCurrentVelocity;\n\t        newLastIdealStyles[i] = newLastIdealStyle;\n\t        newLastIdealVelocities[i] = newLastIdealVelocity;\n\t      }\n\t\n\t      _this.animationID = null;\n\t      // the amount we're looped over above\n\t      _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\t\n\t      _this.setState({\n\t        currentStyles: newCurrentStyles,\n\t        currentVelocities: newCurrentVelocities,\n\t        lastIdealStyles: newLastIdealStyles,\n\t        lastIdealVelocities: newLastIdealVelocities\n\t      });\n\t\n\t      _this.unreadPropStyles = null;\n\t\n\t      _this.startAnimationIfNecessary();\n\t    });\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.prevTime = _performanceNow2['default']();\n\t    this.startAnimationIfNecessary();\n\t  },\n\t\n\t  componentWillReceiveProps: function componentWillReceiveProps(props) {\n\t    if (this.unreadPropStyles != null) {\n\t      // previous props haven't had the chance to be set yet; set them here\n\t      this.clearUnreadPropStyle(this.unreadPropStyles);\n\t    }\n\t\n\t    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n\t    if (this.animationID == null) {\n\t      this.prevTime = _performanceNow2['default']();\n\t      this.startAnimationIfNecessary();\n\t    }\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    if (this.animationID != null) {\n\t      _raf2['default'].cancel(this.animationID);\n\t      this.animationID = null;\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    var renderedChildren = this.props.children(this.state.currentStyles);\n\t    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n\t  }\n\t});\n\t\n\texports['default'] = StaggeredMotion;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _mapToZero = __webpack_require__(2);\n\t\n\tvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\t\n\tvar _stripStyle = __webpack_require__(3);\n\t\n\tvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\t\n\tvar _stepper3 = __webpack_require__(4);\n\t\n\tvar _stepper4 = _interopRequireDefault(_stepper3);\n\t\n\tvar _mergeDiff = __webpack_require__(12);\n\t\n\tvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\t\n\tvar _performanceNow = __webpack_require__(5);\n\t\n\tvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\t\n\tvar _raf = __webpack_require__(7);\n\t\n\tvar _raf2 = _interopRequireDefault(_raf);\n\t\n\tvar _shouldStopAnimation = __webpack_require__(8);\n\t\n\tvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\t\n\tvar _react = __webpack_require__(9);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar msPerFrame = 1000 / 60;\n\t\n\t// the children function & (potential) styles function asks as param an\n\t// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n\t// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n\t// internal states doesn't contain such a data structure (check the state and\n\t// TransitionMotionState). So when children function and others ask for such\n\t// data we need to generate them on the fly by combining mergedPropsStyles and\n\t// currentStyles/lastIdealStyles\n\tfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n\t  if (unreadPropStyles == null) {\n\t    // $FlowFixMe\n\t    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n\t      return {\n\t        key: mergedPropsStyle.key,\n\t        data: mergedPropsStyle.data,\n\t        style: plainStyles[i]\n\t      };\n\t    });\n\t  }\n\t  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n\t    // $FlowFixMe\n\t    for (var j = 0; j < unreadPropStyles.length; j++) {\n\t      // $FlowFixMe\n\t      if (unreadPropStyles[j].key === mergedPropsStyle.key) {\n\t        return {\n\t          // $FlowFixMe\n\t          key: unreadPropStyles[j].key,\n\t          data: unreadPropStyles[j].data,\n\t          style: plainStyles[i]\n\t        };\n\t      }\n\t    }\n\t    // $FlowFixMe\n\t    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n\t  });\n\t}\n\t\n\tfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n\t  if (mergedPropsStyles.length !== destStyles.length) {\n\t    return false;\n\t  }\n\t\n\t  for (var i = 0; i < mergedPropsStyles.length; i++) {\n\t    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n\t      return false;\n\t    }\n\t  }\n\t\n\t  // we have the invariant that mergedPropsStyles and\n\t  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n\t  // mergeAndSync comment for more info\n\t  for (var i = 0; i < mergedPropsStyles.length; i++) {\n\t    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n\t      return false;\n\t    }\n\t  }\n\t\n\t  return true;\n\t}\n\t\n\t// core key merging logic\n\t\n\t// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n\t// c}, previous current (interpolating) style is {a, b}\n\t// **invariant**: current[i] corresponds to merged[i] in terms of key\n\t\n\t// steps:\n\t// turn merged style into {a?, b, c}\n\t//    add c, value of c is destStyles.c\n\t//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n\t// turn current (interpolating) style from {a, b} into {a?, b, c}\n\t//    maybe remove a\n\t//    certainly add c, value of c is willEnter(c)\n\t// loop over merged and construct new current\n\t// dest doesn't change, that's owner's\n\tfunction mergeAndSync(willEnter, willLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n\t  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n\t    var leavingStyle = willLeave(oldMergedPropsStyle);\n\t    if (leavingStyle == null) {\n\t      return null;\n\t    }\n\t    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n\t      return null;\n\t    }\n\t    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n\t  });\n\t\n\t  var newCurrentStyles = [];\n\t  var newCurrentVelocities = [];\n\t  var newLastIdealStyles = [];\n\t  var newLastIdealVelocities = [];\n\t  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n\t    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n\t    var foundOldIndex = null;\n\t    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n\t      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n\t        foundOldIndex = j;\n\t        break;\n\t      }\n\t    }\n\t    // TODO: key search code\n\t    if (foundOldIndex == null) {\n\t      var plainStyle = willEnter(newMergedPropsStyleCell);\n\t      newCurrentStyles[i] = plainStyle;\n\t      newLastIdealStyles[i] = plainStyle;\n\t\n\t      // $FlowFixMe\n\t      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n\t      newCurrentVelocities[i] = velocity;\n\t      newLastIdealVelocities[i] = velocity;\n\t    } else {\n\t      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n\t      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n\t      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n\t      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n\t    }\n\t  }\n\t\n\t  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n\t}\n\t\n\tvar TransitionMotion = _react2['default'].createClass({\n\t  displayName: 'TransitionMotion',\n\t\n\t  propTypes: {\n\t    defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.shape({\n\t      key: _react.PropTypes.string.isRequired,\n\t      data: _react.PropTypes.any,\n\t      style: _react.PropTypes.objectOf(_react.PropTypes.number).isRequired\n\t    })),\n\t    styles: _react.PropTypes.oneOfType([_react.PropTypes.func, _react.PropTypes.arrayOf(_react.PropTypes.shape({\n\t      key: _react.PropTypes.string.isRequired,\n\t      data: _react.PropTypes.any,\n\t      style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired\n\t    }))]).isRequired,\n\t    children: _react.PropTypes.func.isRequired,\n\t    willLeave: _react.PropTypes.func,\n\t    willEnter: _react.PropTypes.func\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      willEnter: function willEnter(styleThatEntered) {\n\t        return _stripStyle2['default'](styleThatEntered.style);\n\t      },\n\t      // recall: returning null makes the current unmounting TransitionStyle\n\t      // disappear immediately\n\t      willLeave: function willLeave() {\n\t        return null;\n\t      }\n\t    };\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    var _props = this.props;\n\t    var defaultStyles = _props.defaultStyles;\n\t    var styles = _props.styles;\n\t    var willEnter = _props.willEnter;\n\t    var willLeave = _props.willLeave;\n\t\n\t    var destStyles = typeof styles === 'function' ? styles() : styles;\n\t\n\t    // this is special. for the first time around, we don't have a comparison\n\t    // between last (no last) and current merged props. we'll compute last so:\n\t    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n\t    // fabricate last as {a, b}\n\t    var oldMergedPropsStyles = undefined;\n\t    if (defaultStyles == null) {\n\t      oldMergedPropsStyles = destStyles;\n\t    } else {\n\t      // $FlowFixMe\n\t      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n\t        // TODO: key search code\n\t        for (var i = 0; i < destStyles.length; i++) {\n\t          if (destStyles[i].key === defaultStyleCell.key) {\n\t            return destStyles[i];\n\t          }\n\t        }\n\t        return defaultStyleCell;\n\t      });\n\t    }\n\t    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n\t      return _stripStyle2['default'](s.style);\n\t    }) : defaultStyles.map(function (s) {\n\t      return _stripStyle2['default'](s.style);\n\t    });\n\t    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n\t      return _mapToZero2['default'](s.style);\n\t    }) : defaultStyles.map(function (s) {\n\t      return _mapToZero2['default'](s.style);\n\t    });\n\t\n\t    var _mergeAndSync = mergeAndSync(\n\t    // $FlowFixMe\n\t    willEnter,\n\t    // $FlowFixMe\n\t    willLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n\t    oldCurrentVelocities);\n\t\n\t    var mergedPropsStyles = _mergeAndSync[0];\n\t    var currentStyles = _mergeAndSync[1];\n\t    var currentVelocities = _mergeAndSync[2];\n\t    var lastIdealStyles = _mergeAndSync[3];\n\t    var lastIdealVelocities = _mergeAndSync[4];\n\t    // oldLastIdealVelocities really\n\t\n\t    return {\n\t      currentStyles: currentStyles,\n\t      currentVelocities: currentVelocities,\n\t      lastIdealStyles: lastIdealStyles,\n\t      lastIdealVelocities: lastIdealVelocities,\n\t      mergedPropsStyles: mergedPropsStyles\n\t    };\n\t  },\n\t\n\t  animationID: null,\n\t  prevTime: 0,\n\t  accumulatedTime: 0,\n\t  // it's possible that currentStyle's value is stale: if props is immediately\n\t  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n\t  // at 0 (didn't have time to tick and interpolate even once). If we naively\n\t  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n\t  // In reality currentStyle should be 400\n\t  unreadPropStyles: null,\n\t  // after checking for unreadPropStyles != null, we manually go set the\n\t  // non-interpolating values (those that are a number, without a spring\n\t  // config)\n\t  clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {\n\t    var _mergeAndSync2 = mergeAndSync(\n\t    // $FlowFixMe\n\t    this.props.willEnter,\n\t    // $FlowFixMe\n\t    this.props.willLeave, this.state.mergedPropsStyles, unreadPropStyles, this.state.currentStyles, this.state.currentVelocities, this.state.lastIdealStyles, this.state.lastIdealVelocities);\n\t\n\t    var mergedPropsStyles = _mergeAndSync2[0];\n\t    var currentStyles = _mergeAndSync2[1];\n\t    var currentVelocities = _mergeAndSync2[2];\n\t    var lastIdealStyles = _mergeAndSync2[3];\n\t    var lastIdealVelocities = _mergeAndSync2[4];\n\t\n\t    for (var i = 0; i < unreadPropStyles.length; i++) {\n\t      var unreadPropStyle = unreadPropStyles[i].style;\n\t      var dirty = false;\n\t\n\t      for (var key in unreadPropStyle) {\n\t        if (!unreadPropStyle.hasOwnProperty(key)) {\n\t          continue;\n\t        }\n\t\n\t        var styleValue = unreadPropStyle[key];\n\t        if (typeof styleValue === 'number') {\n\t          if (!dirty) {\n\t            dirty = true;\n\t            currentStyles[i] = _extends({}, currentStyles[i]);\n\t            currentVelocities[i] = _extends({}, currentVelocities[i]);\n\t            lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n\t            lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n\t            mergedPropsStyles[i] = {\n\t              key: mergedPropsStyles[i].key,\n\t              data: mergedPropsStyles[i].data,\n\t              style: _extends({}, mergedPropsStyles[i].style)\n\t            };\n\t          }\n\t          currentStyles[i][key] = styleValue;\n\t          currentVelocities[i][key] = 0;\n\t          lastIdealStyles[i][key] = styleValue;\n\t          lastIdealVelocities[i][key] = 0;\n\t          mergedPropsStyles[i].style[key] = styleValue;\n\t        }\n\t      }\n\t    }\n\t\n\t    // unlike the other 2 components, we can't detect staleness and optionally\n\t    // opt out of setState here. each style object's data might contain new\n\t    // stuff we're not/cannot compare\n\t    this.setState({\n\t      currentStyles: currentStyles,\n\t      currentVelocities: currentVelocities,\n\t      mergedPropsStyles: mergedPropsStyles,\n\t      lastIdealStyles: lastIdealStyles,\n\t      lastIdealVelocities: lastIdealVelocities\n\t    });\n\t  },\n\t\n\t  startAnimationIfNecessary: function startAnimationIfNecessary() {\n\t    var _this = this;\n\t\n\t    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n\t    // call cb? No, otherwise accidental parent rerender causes cb trigger\n\t    this.animationID = _raf2['default'](function () {\n\t      var propStyles = _this.props.styles;\n\t      var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\t\n\t      // check if we need to animate in the first place\n\t      if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.accumulatedTime = 0;\n\t        return;\n\t      }\n\t\n\t      var currentTime = _performanceNow2['default']();\n\t      var timeDelta = currentTime - _this.prevTime;\n\t      _this.prevTime = currentTime;\n\t      _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n\t      // more than 10 frames? prolly switched browser tab. Restart\n\t      if (_this.accumulatedTime > msPerFrame * 10) {\n\t        _this.accumulatedTime = 0;\n\t      }\n\t\n\t      if (_this.accumulatedTime === 0) {\n\t        // no need to cancel animationID here; shouldn't have any in flight\n\t        _this.animationID = null;\n\t        _this.startAnimationIfNecessary();\n\t        return;\n\t      }\n\t\n\t      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n\t      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\t\n\t      var _mergeAndSync3 = mergeAndSync(\n\t      // $FlowFixMe\n\t      _this.props.willEnter,\n\t      // $FlowFixMe\n\t      _this.props.willLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\t\n\t      var newMergedPropsStyles = _mergeAndSync3[0];\n\t      var newCurrentStyles = _mergeAndSync3[1];\n\t      var newCurrentVelocities = _mergeAndSync3[2];\n\t      var newLastIdealStyles = _mergeAndSync3[3];\n\t      var newLastIdealVelocities = _mergeAndSync3[4];\n\t\n\t      for (var i = 0; i < newMergedPropsStyles.length; i++) {\n\t        var newMergedPropsStyle = newMergedPropsStyles[i].style;\n\t        var newCurrentStyle = {};\n\t        var newCurrentVelocity = {};\n\t        var newLastIdealStyle = {};\n\t        var newLastIdealVelocity = {};\n\t\n\t        for (var key in newMergedPropsStyle) {\n\t          if (!newMergedPropsStyle.hasOwnProperty(key)) {\n\t            continue;\n\t          }\n\t\n\t          var styleValue = newMergedPropsStyle[key];\n\t          if (typeof styleValue === 'number') {\n\t            newCurrentStyle[key] = styleValue;\n\t            newCurrentVelocity[key] = 0;\n\t            newLastIdealStyle[key] = styleValue;\n\t            newLastIdealVelocity[key] = 0;\n\t          } else {\n\t            var newLastIdealStyleValue = newLastIdealStyles[i][key];\n\t            var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n\t            for (var j = 0; j < framesToCatchUp; j++) {\n\t              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t              newLastIdealStyleValue = _stepper[0];\n\t              newLastIdealVelocityValue = _stepper[1];\n\t            }\n\t\n\t            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\t\n\t            var nextIdealX = _stepper2[0];\n\t            var nextIdealV = _stepper2[1];\n\t\n\t            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n\t            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n\t            newLastIdealStyle[key] = newLastIdealStyleValue;\n\t            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n\t          }\n\t        }\n\t\n\t        newLastIdealStyles[i] = newLastIdealStyle;\n\t        newLastIdealVelocities[i] = newLastIdealVelocity;\n\t        newCurrentStyles[i] = newCurrentStyle;\n\t        newCurrentVelocities[i] = newCurrentVelocity;\n\t      }\n\t\n\t      _this.animationID = null;\n\t      // the amount we're looped over above\n\t      _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\t\n\t      _this.setState({\n\t        currentStyles: newCurrentStyles,\n\t        currentVelocities: newCurrentVelocities,\n\t        lastIdealStyles: newLastIdealStyles,\n\t        lastIdealVelocities: newLastIdealVelocities,\n\t        mergedPropsStyles: newMergedPropsStyles\n\t      });\n\t\n\t      _this.unreadPropStyles = null;\n\t\n\t      _this.startAnimationIfNecessary();\n\t    });\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.prevTime = _performanceNow2['default']();\n\t    this.startAnimationIfNecessary();\n\t  },\n\t\n\t  componentWillReceiveProps: function componentWillReceiveProps(props) {\n\t    if (this.unreadPropStyles) {\n\t      // previous props haven't had the chance to be set yet; set them here\n\t      this.clearUnreadPropStyle(this.unreadPropStyles);\n\t    }\n\t\n\t    if (typeof props.styles === 'function') {\n\t      // $FlowFixMe\n\t      this.unreadPropStyles = props.styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n\t    } else {\n\t      this.unreadPropStyles = props.styles;\n\t    }\n\t\n\t    if (this.animationID == null) {\n\t      this.prevTime = _performanceNow2['default']();\n\t      this.startAnimationIfNecessary();\n\t    }\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    if (this.animationID != null) {\n\t      _raf2['default'].cancel(this.animationID);\n\t      this.animationID = null;\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n\t    var renderedChildren = this.props.children(hydratedStyles);\n\t    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n\t  }\n\t});\n\t\n\texports['default'] = TransitionMotion;\n\tmodule.exports = exports['default'];\n\n\t// list of styles, each containing interpolating values. Part of what's passed\n\t// to children function. Notice that this is\n\t// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n\t// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n\t// contains the key & data info (so that we only have a single source of truth\n\t// for these, and to save space). Check the comment for `rehydrateStyles` to\n\t// see how we regenerate the entirety of what's passed to children function\n\n\t// the array that keeps track of currently rendered stuff! Including stuff\n\t// that you've unmounted but that's still animating. This is where it lives\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\n\t\n\t// core keys merging algorithm. If previous render's keys are [a, b], and the\n\t// next render's [c, b, d], what's the final merged keys and ordering?\n\t\n\t// - c and a must both be before b\n\t// - b before d\n\t// - ordering between a and c ambiguous\n\t\n\t// this reduces to merging two partially ordered lists (e.g. lists where not\n\t// every item has a definite ordering, like comparing a and c above). For the\n\t// ambiguous ordering we deterministically choose to place the next render's\n\t// item after the previous'; so c after a\n\t\n\t// this is called a topological sorting. Except the existing algorithms don't\n\t// work well with js bc of the amount of allocation, and isn't optimized for our\n\t// current use-case bc the runtime is linear in terms of edges (see wiki for\n\t// meaning), which is huge when two lists have many common elements\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = mergeDiff;\n\t\n\tfunction mergeDiff(prev, next, onRemove) {\n\t  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n\t  // potentially triggering chrome hash map mode for objs (so it might be faster\n\t\n\t  var prevKeyIndex = {};\n\t  for (var i = 0; i < prev.length; i++) {\n\t    prevKeyIndex[prev[i].key] = i;\n\t  }\n\t  var nextKeyIndex = {};\n\t  for (var i = 0; i < next.length; i++) {\n\t    nextKeyIndex[next[i].key] = i;\n\t  }\n\t\n\t  // first, an overly elaborate way of merging prev and next, eliminating\n\t  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n\t  // This way of writing it saves allocations\n\t  var ret = [];\n\t  for (var i = 0; i < next.length; i++) {\n\t    ret[i] = next[i];\n\t  }\n\t  for (var i = 0; i < prev.length; i++) {\n\t    if (!nextKeyIndex.hasOwnProperty(prev[i].key)) {\n\t      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n\t      // merge in keys that the user desires to kill\n\t      var fill = onRemove(i, prev[i]);\n\t      if (fill != null) {\n\t        ret.push(fill);\n\t      }\n\t    }\n\t  }\n\t\n\t  // now all the items all present. Core sorting logic to have the right order\n\t  return ret.sort(function (a, b) {\n\t    var nextOrderA = nextKeyIndex[a.key];\n\t    var nextOrderB = nextKeyIndex[b.key];\n\t    var prevOrderA = prevKeyIndex[a.key];\n\t    var prevOrderB = prevKeyIndex[b.key];\n\t\n\t    if (nextOrderA != null && nextOrderB != null) {\n\t      // both keys in next\n\t      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n\t    } else if (prevOrderA != null && prevOrderB != null) {\n\t      // both keys in prev\n\t      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n\t    } else if (nextOrderA != null) {\n\t      // key a in next, key b in prev\n\t\n\t      // how to determine the order between a and b? We find a \"pivot\" (term\n\t      // abuse), a key present in both prev and next, that is sandwiched between\n\t      // a and b. In the context of our above example, if we're comparing a and\n\t      // d, b's (the only) pivot\n\t      for (var i = 0; i < next.length; i++) {\n\t        var pivot = next[i].key;\n\t        if (!prevKeyIndex.hasOwnProperty(pivot)) {\n\t          continue;\n\t        }\n\t\n\t        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n\t          return -1;\n\t        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n\t          return 1;\n\t        }\n\t      }\n\t      // pluggable. default to: next bigger than prev\n\t      return 1;\n\t    }\n\t    // prevOrderA, nextOrderB\n\t    for (var i = 0; i < next.length; i++) {\n\t      var pivot = next[i].key;\n\t      if (!prevKeyIndex.hasOwnProperty(pivot)) {\n\t        continue;\n\t      }\n\t      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n\t        return 1;\n\t      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n\t        return -1;\n\t      }\n\t    }\n\t    // pluggable. default to: next bigger than prev\n\t    return -1;\n\t  });\n\t}\n\t\n\tmodule.exports = exports['default'];\n\t// to loop through and find a key's index each time), but I no longer care\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports['default'] = spring;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _presets = __webpack_require__(14);\n\t\n\tvar _presets2 = _interopRequireDefault(_presets);\n\t\n\tvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n\t  precision: 0.01\n\t});\n\t\n\tfunction spring(val, config) {\n\t  return _extends({}, defaultConfig, config, { val: val });\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\texports[\"default\"] = {\n\t  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n\t  gentle: { stiffness: 120, damping: 14 },\n\t  wobbly: { stiffness: 180, damping: 12 },\n\t  stiff: { stiffness: 210, damping: 20 }\n\t};\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = reorderKeys;\n\t\n\tvar hasWarned = false;\n\t\n\tfunction reorderKeys() {\n\t  if (process.env.NODE_ENV === 'development') {\n\t    if (!hasWarned) {\n\t      hasWarned = true;\n\t      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n\t    }\n\t  }\n\t}\n\t\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)))\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=react-motion.map"]},"metadata":{},"sourceType":"module"}